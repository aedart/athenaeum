import{_ as t,M as i,p as c,q as o,R as n,t as a,N as e,a1 as p}from"./framework-efe98465.js";const r={},l=n("h1",{id:"circuits",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#circuits","aria-hidden":"true"},"#"),a(" Circuits")],-1),u=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"TIP"),n("p",null,[n("em",null,[a("Circuits package is available from Athenaeum "),n("code",null,"v4.2")])])],-1),d=n("em",null,"[...] detect failures and encapsulates the logic of preventing a failure from constantly recurring, during maintenance, temporary external system failure or unexpected system difficulties[...]",-1),k={href:"https://en.wikipedia.org/wiki/Circuit_breaker_design_pattern",target:"_blank",rel:"noopener noreferrer"},m={href:"https://medium.com/@soumendrak/circuit-breaker-design-pattern-997c3521c1c4",target:"_blank",rel:"noopener noreferrer"},v={href:"https://martinfowler.com/bliki/CircuitBreaker.html",target:"_blank",rel:"noopener noreferrer"},h=p(`<h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>Circuits<span class="token punctuation">\\</span>Traits<span class="token punctuation">\\</span>CircuitBreakerManagerTrait</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">WeatherService</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">CircuitBreakerManagerTrait</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">forecast</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$circuitBreaker</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">getCircuitBreakerManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token operator">-&gt;</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;weather_service&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$circuitBreaker</span><span class="token operator">-&gt;</span><span class="token function">attempt</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Perform 3rd party API call... not shown here</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// Service has failed and is unavailable, do something else...</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2);function f(b,_){const s=i("ExternalLinkIcon");return c(),o("div",null,[l,u,n("p",null,[a('This package offers a Circuit Breaker that can be used to "'),d,a('" ('),n("a",k,[a("wiki"),e(s)]),a(").")]),n("p",null,[a("A detailed explanation of how the Circuit Breaker Pattern works, can be found on "),n("a",m,[a("Medium"),e(s)]),a(" and "),n("a",v,[a("Martin Fowler's blog"),e(s)])]),h])}const w=t(r,[["render",f],["__file","index.html.vue"]]);export{w as default};
