import{_ as t,M as o,p as i,q as l,R as e,t as n,N as a,a1 as c}from"./framework-efe98465.js";const p={},r=e("h1",{id:"file-info",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#file-info","aria-hidden":"true"},"#"),n(" File Info")],-1),d=e("code",null,"FileInfoSampler",-1),u={href:"https://www.php.net/manual/en/class.finfo",target:"_blank",rel:"noopener noreferrer"},h=e("code",null,"finfo",-1),m={href:"https://www.php.net/manual/en/book.fileinfo.php",target:"_blank",rel:"noopener noreferrer"},f=c(`<h2 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> Options</h2><p><code>FileInfoSampler</code> offers the following options, which can be specified in your &quot;profile&quot; settings.</p><p><em>If you are using package in a regular Laravel application, then you can change options in your <code>config/mime-types-detection.php</code> file.</em></p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>MimeTypes<span class="token punctuation">\\</span>Detector</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>MimeTypes<span class="token punctuation">\\</span>Drivers<span class="token punctuation">\\</span>FileInfoSampler</span><span class="token punctuation">;</span>

<span class="token variable">$detector</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Detector</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;default&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">FileInfoSampler</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">&#39;options&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token comment">// Amount of bytes to sample from file</span>
            <span class="token string single-quoted-string">&#39;sample_size&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1048576</span><span class="token punctuation">,</span>
            
            <span class="token comment">// Path to custom magic database</span>
            <span class="token string single-quoted-string">&#39;magic_database&#39;</span> <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="sample-size" tabindex="-1"><a class="header-anchor" href="#sample-size" aria-hidden="true">#</a> <code>sample_size</code></h3>`,5),k=e("code",null,"1048576",-1),g=e("em",null,"~1 MB",-1),_={href:"https://manpages.debian.org/bullseye/file/file.1.en.html",target:"_blank",rel:"noopener noreferrer"},b=e("code",null,"file",-1),v=e("p",null,[n("Feel free to tinker with this size as you see fit. For instance, during the development of this package a much smaller value ("),e("em",null,[e("code",null,"512"),n(" bytes")]),n(") was used during testing. All test-files' MIME-type were detected as expected. Yet, depending on the files that you attempt to detect MIME-types for, no guarantees can be provided. In other words, you should test against desired files to see what sample size works.")],-1),y=e("h3",{id:"magic-database",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#magic-database","aria-hidden":"true"},"#"),n(),e("code",null,"magic_database")],-1),w=e("code",null,"null",-1),I={href:"https://www.php.net/manual/en/function.finfo-open.php#refsect1-function.finfo-open-notes",target:"_blank",rel:"noopener noreferrer"},x=e("code",null,"magic",-1),M={href:"https://manpages.debian.org/bullseye/file/file.1.en.html",target:"_blank",rel:"noopener noreferrer"},q=e("code",null,"file",-1),F={href:"http://cweiske.de/tagebuch/custom-magic-db.htm",target:"_blank",rel:"noopener noreferrer"},z=e("code",null,"magic",-1),E={href:"https://manpages.debian.org/bullseye/libmagic1/magic.5.en.html",target:"_blank",rel:"noopener noreferrer"},T=e("code",null,"magic",-1);function N(S,A){const s=o("ExternalLinkIcon");return i(),l("div",null,[r,e("p",null,[n("The "),d,n(" is a wrapper for the "),e("a",u,[h,n(" class"),a(s)]),n(". It requires the "),e("a",m,[n("File Info Extension"),a(s)]),n(" to be installed.")]),f,e("p",null,[n("The sample size determines how many bytes from a file's content must be used for determining the MIME-type. The default value of "),k,n(" bytes ("),g,n(") corresponds to the default size of the linux "),e("a",_,[b,n(" command"),a(s)]),n(" uses.")]),v,y,e("p",null,[n("The default value of "),w,n(" works in the same way as specified by the "),e("a",I,[n("File Extension documentation"),a(s)]),n(". In other words, you are encouraged to just leave it unset.")]),e("p",null,[n("If you do wish to use a custom "),x,n(" database, then you should look at the "),e("a",M,[q,n(" command documentation"),a(s)]),n(". In addition, the follow resources may offer some help:")]),e("ul",null,[e("li",null,[e("a",F,[n("tutorial on creating custom "),z,n(" database"),a(s)])]),e("li",null,[e("a",E,[T,n(" â€” file command's magic pattern file manual"),a(s)])])])])}const V=t(p,[["render",N],["__file","file-info.html.vue"]]);export{V as default};
