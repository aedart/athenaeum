import{_ as e,M as t,p,q as o,R as s,t as n,N as i,a1 as c}from"./framework-efe98465.js";const r={},l=s("h1",{id:"users",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#users","aria-hidden":"true"},"#"),n(" Users")],-1),u=s("p",null,[n("The available "),s("code",null,"User"),n(" resource supports full CRUD operations. This sections highlights a few important concepts.")],-1),d=s("h2",{id:"creating-new-user",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#creating-new-user","aria-hidden":"true"},"#"),n(" Creating new user")],-1),k={href:"https://www.redmine.org/projects/redmine/wiki/Rest_Users",target:"_blank",rel:"noopener noreferrer"},g=c(`<div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>Redmine<span class="token punctuation">\\</span>User</span><span class="token punctuation">;</span>

<span class="token variable">$user</span> <span class="token operator">=</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;login&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;jimmy&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;password&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;[...not shown...]&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;firstname&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Jimmy&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;lastname&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;Thomsen&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;mail&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;jimmy@example.org&#39;</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="change-user-s-status" tabindex="-1"><a class="header-anchor" href="#change-user-s-status" aria-hidden="true">#</a> Change user&#39;s status</h2><p>Set the <code>status</code> property, when you wish to change a user&#39;s status.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;status&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token constant">STATUS_LOCKED</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="change-notifications" tabindex="-1"><a class="header-anchor" href="#change-notifications" aria-hidden="true">#</a> Change notifications</h2><p>The <code>mail_notification</code> can be specified, when you wish to set or change the user&#39;s email notification settings.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>Redmine<span class="token punctuation">\\</span>User</span><span class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;mail_notification&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">User</span><span class="token operator">::</span><span class="token constant">NONE_MAIL_NOTIFICATION</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="user-s-issues" tabindex="-1"><a class="header-anchor" href="#user-s-issues" aria-hidden="true">#</a> User&#39;s issues</h2><p>The <code>User</code> resource offers a few ways to obtain issues that a user has authored or is directly assigned to.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token comment">// Issues user has created</span>
<span class="token variable">$authored</span> <span class="token operator">=</span> <span class="token variable">$user</span>
    <span class="token operator">-&gt;</span><span class="token function">authoredIssues</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...Or issues assigned to user</span>
<span class="token variable">$assigned</span> <span class="token operator">=</span> <span class="token variable">$user</span>
    <span class="token operator">-&gt;</span><span class="token function">assignedIssues</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function h(v,m){const a=t("ExternalLinkIcon");return p(),o("div",null,[l,u,d,s("p",null,[n("When you create a new user, it's important that that all required properties are set. See "),s("a",k,[n("Redmine's docs"),i(a)]),n(" for additional details.")]),g])}const f=e(r,[["render",h],["__file","users.html.vue"]]);export{f as default};
