import{_ as e,M as t,p as o,q as p,R as n,t as s,N as i,a1 as r}from"./framework-efe98465.js";const c={},l=n("h1",{id:"versions-milestones",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#versions-milestones","aria-hidden":"true"},"#"),s(" Versions (Milestones)")],-1),d=n("em",null,"or milestones",-1),u={href:"https://www.redmine.org/projects/redmine/wiki/Rest_Versions",target:"_blank",rel:"noopener noreferrer"},v=r(`<h2 id="create-new-version" tabindex="-1"><a class="header-anchor" href="#create-new-version" aria-hidden="true">#</a> Create new version</h2><p>You can use the <code>createVersion()</code> method on a project instance, when you wish to add a new project version.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>Redmine<span class="token punctuation">\\</span>Version</span><span class="token punctuation">;</span>

<span class="token variable">$version</span> <span class="token operator">=</span> <span class="token variable">$project</span><span class="token operator">-&gt;</span><span class="token function">createVersion</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;1.0.0&#39;</span>
    <span class="token string single-quoted-string">&#39;description&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;First major version&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;due_date&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;2025-01-10&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;status&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">Version</span><span class="token operator">::</span><span class="token constant">STATUS_LOCKED</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="shared-state-of-version" tabindex="-1"><a class="header-anchor" href="#shared-state-of-version" aria-hidden="true">#</a> Shared state of version</h3><p>The <code>sharing</code> property in the <code>Version</code> resource determines how it must be shared with other projects. By default, a version is not shared with any other projects (<code>Version::SHARED_WITH_NONE</code>). The resource contains a few predefined constants with possible values for the share state.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token keyword">use</span> <span class="token package">Aedart<span class="token punctuation">\\</span>Redmine<span class="token punctuation">\\</span>Version</span><span class="token punctuation">;</span>

<span class="token variable">$version</span> <span class="token operator">=</span> <span class="token variable">$project</span><span class="token operator">-&gt;</span><span class="token function">createVersion</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;name&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;1.0.0&#39;</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">&#39;sharing&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">Version</span><span class="token operator">::</span><span class="token constant">SHARED_WITH_PROJECT_HIERARCHY</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ...Or when updating a version</span>
<span class="token variable">$version</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">&#39;sharing&#39;</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">Version</span><span class="token operator">::</span><span class="token constant">SHARED_WITH_PROJECT_TREE</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="obtain-versions" tabindex="-1"><a class="header-anchor" href="#obtain-versions" aria-hidden="true">#</a> Obtain versions</h2><p>Use the <code>versions()</code> relation method to fetch a project&#39;s available versions.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$versions</span> <span class="token operator">=</span> <span class="token variable">$project</span>
    <span class="token operator">-&gt;</span><span class="token function">versions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="issues-assigned-to-version" tabindex="-1"><a class="header-anchor" href="#issues-assigned-to-version" aria-hidden="true">#</a> Issues assigned to version</h3><p>Once you have obtained one or more desired versions, you can use it to obtain issues that have been assigned to a particular version.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code> <span class="token variable">$issues</span> <span class="token operator">=</span> <span class="token variable">$version</span>
    <span class="token operator">-&gt;</span><span class="token function">issues</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="remove-a-version" tabindex="-1"><a class="header-anchor" href="#remove-a-version" aria-hidden="true">#</a> Remove a version</h2><p>Similar to other resources, you can simply invoke <code>delete()</code>, to remove a version from a project.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$version</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,15);function k(h,g){const a=t("ExternalLinkIcon");return o(),p("div",null,[l,n("p",null,[s("Versions ("),d,s(") are tightly related to a project. Please review "),n("a",u,[s("Redmine's documentation"),i(a)]),s(", before proceeding here.")]),v])}const b=e(c,[["render",k],["__file","versions.html.vue"]]);export{b as default};
