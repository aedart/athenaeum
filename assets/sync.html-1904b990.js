import{_ as t,M as o,p,q as c,R as n,t as s,N as e,a1 as i}from"./framework-efe98465.js";const l={},r=i(`<h1 id="sync" tabindex="-1"><a class="header-anchor" href="#sync" aria-hidden="true">#</a> Sync</h1><p>Invoking the <code>sync()</code> method will synchronise changes to a file.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$writeStream</span> <span class="token operator">=</span> <span class="token class-name static-context">FileStream</span><span class="token operator">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;persons.txt&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;w&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add data and sync to file...</span>
<span class="token variable">$writeStream</span>
    <span class="token operator">-&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;John Snow&#39;</span><span class="token punctuation">)</span>
    <span class="token operator">-&gt;</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Add more data, but do not synchronise</span>
<span class="token variable">$writeStream</span>
    <span class="token operator">-&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;Jane Doe&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ----------------------------------------------------------- //</span>
<span class="token comment">// Elsewhere in your application, when you read the stream</span>
<span class="token variable">$readStream</span> <span class="token operator">=</span> <span class="token class-name static-context">FileStream</span><span class="token operator">::</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;persons.txt&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;r&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$readStream</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Only first data was synchronised to the file...</span>
<span class="token keyword">echo</span> <span class="token variable">$result</span><span class="token punctuation">;</span> <span class="token comment">// John Snow</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can also set the <code>$withoutMeta</code> argument to <code>true</code>, if you only want meta-data to be synchronised.</p>`,4),u={href:"https://www.php.net/manual/en/function.fsync",target:"_blank",rel:"noopener noreferrer"},d=n("code",null,"fsync",-1),k={href:"https://www.php.net/manual/en/function.fdatasync",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"fdatasync",-1);function v(h,b){const a=o("ExternalLinkIcon");return p(),c("div",null,[r,n("p",null,[s("See PHP's "),n("a",u,[d,e(a)]),s(" and "),n("a",k,[m,e(a)]),s(" for more information.")])])}const f=t(l,[["render",v],["__file","sync.html.vue"]]);export{f as default};
